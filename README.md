# Digital pot PGA (STM32G431KB)
An STM32 HAL example of a programmable-gain amplifier (PGA) using a digital potentiometer. The demo features [DS3502](https://www.analog.com/media/en/technical-documentation/data-sheets/ds3502.pdf) and [MCP6002](https://www.microchip.com/en-us/product/mcp6002).

> [!NOTE]
> You can buy single-chip PGAs. Visit e.g. [Programmable & variable gain amplifiers (PGAs & VGAs)](https://www.ti.com/amplifier-circuit/pga-vga/products.html). However, here we are going to build one.

![Digital pot in action](/Assets/Images/digital_pot_in_action.jpg)

# Missing files?
Don't worry :slightly_smiling_face: Just hit Alt-K to generate /Drivers/CMCIS/ and /Drivers/STM32G4xx_HAL_Driver/ based on the .ioc file. After a couple of seconds your project will be ready for building.

# Digital potentiometers
* [DS3502 I2C Digital Potentiometer](https://learn.adafruit.com/ds3502-i2c-potentiometer) (Adafruit)
* [This component can control tons of circuits! Digital Potentiometer Guide! EB#51](https://www.youtube.com/watch?v=uezoQ5fkixY) (GreatScott!)
* [Unique Projects with Digital Potentiometers](https://www.youtube.com/watch?v=AqeGskH0usY) (DroneBot Workshop)
* [Digital potentiometer](https://en.wikipedia.org/wiki/Digital_potentiometer) (Wikipedia)

# Operational amplifiers (opamps)
* [EEVblog #600 - OpAmps Tutorial - What is an Operational Amplifier?](https://www.youtube.com/watch?v=7FYHt5XviKc&list=PLvOlSehNtuHu2FviAaZaiyXwN41G4b1Lf) (EEVblog, David L. Jones)
* [How Op Amps Work - The Learning Circuit](https://www.youtube.com/watch?v=kbVqTMy8HMg) (element14 presents, Karen Corbeill)
* [Electronic Basics #21: OpAmp (Operational Amplifier)](https://www.youtube.com/watch?v=kqCV-HGJc6A) (GreatScott!)
* [Op-Amps - Using Operational Amplifiers](https://www.youtube.com/watch?v=_HHxV-7alwE) (DroneBot Workshop)
* [Operational amplifier](https://en.wikipedia.org/wiki/Operational_amplifier) (Wikipedia)

# Exemplary hardware
* [DS3502](https://www.analog.com/media/en/technical-documentation/data-sheets/ds3502.pdf) (Maxim Integrated, acquired by Analog Devices)
* [MCP6002](https://www.microchip.com/en-us/product/mcp6002) (Microchip Technology)

# Call to action
Create your own [home laboratory/workshop/garage](http://ufnalski.edu.pl/control_engineering_for_hobbyists/2025_high_school/Control_Engineering_for_Hobbyists_2025_02.pdf)! Get inspired by [ControllersTech](https://www.youtube.com/@ControllersTech), [DroneBot Workshop](https://www.youtube.com/@Dronebotworkshop), [Andreas Spiess](https://www.youtube.com/@AndreasSpiess), [GreatScott!](https://www.youtube.com/@greatscottlab), [ElectroBOOM](https://www.youtube.com/@ElectroBOOM), [Electronoobs](https://www.youtube.com/electronoobs), [Phil's Lab](https://www.phils-lab.net/), [atomic14](https://www.youtube.com/@atomic14), [That Project](https://www.youtube.com/@ThatProject), [Paul McWhorter](https://www.youtube.com/@paulmcwhorter), [Sara and Rui Santos, Random Nerd Tutorials](https://randomnerdtutorials.com/), and many other professional hobbyists sharing their awesome projects and tutorials! Shout-out/kudos to all of them!

> [!WARNING]
> Electronics - do try this at home :sunglasses:

200+ challenges to start from: [Control Engineering for Hobbyists at the Warsaw University of Technology](http://ufnalski.edu.pl/control_engineering_for_hobbyists/Control_Engineering_for_Hobbyists_list_of_challenges.pdf).

Stay tuned :exclamation:
